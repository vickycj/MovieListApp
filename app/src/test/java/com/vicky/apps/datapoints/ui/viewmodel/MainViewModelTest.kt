package com.vicky.apps.datapoints.ui.viewmodel

import com.google.gson.Gson
import com.google.gson.reflect.TypeToken
import com.vicky.apps.datapoints.common.SchedulerProvider
import com.vicky.apps.datapoints.data.remote.Repository
import com.vicky.apps.datapoints.ui.model.MovieList

import io.reactivex.Single
import io.reactivex.observers.TestObserver
import io.reactivex.schedulers.Schedulers
import org.junit.After
import org.junit.Before
import org.junit.Test

import org.junit.runner.RunWith
import org.mockito.Mock
import org.mockito.Mockito
import org.mockito.MockitoAnnotations
import org.mockito.junit.MockitoJUnitRunner

@RunWith(MockitoJUnitRunner::class)
class MainViewModelTest {


    @Mock
    lateinit var repository: Repository

    private val schedulerProvider = SchedulerProvider(Schedulers.trampoline(), Schedulers.trampoline())

    private lateinit var viewModel: MainViewModel

    @Before
    fun setUp() {
        MockitoAnnotations.initMocks(this)
        viewModel = MainViewModel(repository, schedulerProvider)
    }

    @After
    fun tearDown() {
    }


    fun getObject(): MovieList{
        val token = object : TypeToken<MovieList>() {

        }
        val jsonData = "{\"movies\":[{\"Title\":\"Avengers:Age of Ultron \",\"Year\":\"2015 \",\"Rated\":\"PG-13 \",\"Released\":\"01 May 2015 \",\"Runtime\":\"141 min \",\"Genre\":\"Action, Adventure, Sci-Fi \",\"Director\":\"Joss Whedon \",\"Writer\":\"Joss Whedon, Stan Lee (based on the Marvel comics by), Jack Kirby (based on the Marvel comics by), Joe Simon (character created by: Captain America), Jack Kirby (character created by: Captain America), Jim Starlin (character created by: Thanos) \",\"Actors\":\"Robert Downey Jr., Chris Hemsworth, Mark Ruffalo, Chris Evans \",\"Plot\":\"When Tony Stark and Bruce Banner try to jump-start a dormant peacekeeping program called Ultron, things go horribly wrong and it's up to Earth's mightiest heroes to stop the villainous Ultron from enacting his terrible plan. \",\"Language\":\"English, Korean \",\"Country\":\"USA \",\"Awards\":\"7 wins \\u0026 45 nominations.\"},{\"Title\":\"TheAvengers \",\"Year\":\"2012 \",\"Rated\":\"PG-13 \",\"Genre\":\"Action, Adventure, Sci-Fi \",\"Actors\":\"Robert Downey Jr., Chris Evans, Mark Ruffalo, Chris Hemsworth \",\"Plot\":\"Earth's mightiest heroes must come together and learn to fight as a team if they are going to stop the mischievous Loki and his alien army from enslaving humanity. \",\"Language\":\"English, Russian, Hindi \",\"Country\":\"USA \",\"Poster\":\"https://m.media-amazon.com/images/M/MV5BNDYxNjQyMjAtNTdiOS00NGYwLWFmNTAtNThmYjU5ZGI2YTI1XkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_SX300.jpg \",\"Released\":\"04 May 2012 \",\"Runtime\":\"143 min \",\"Director\":\"Joss Whedon \",\"Writer\":\"Joss Whedon (screenplay), Zak Penn (story), Joss Whedon (story) \",\"Awards\":\"Nominated for 1 Oscar. Another 38 wins \\u0026 79 nominations. \"},{\"Title\":\"Sleepless \",\"Year\":\"2017 \",\"Rated\":\"R \",\"Released\":\"13Jan 2017 \",\"Runtime\":\"95 min \",\"Genre\":\"Action, Crime, Thriller \",\"Director\":\"Baran bo Odar \",\"Writer\":\"Andrea Berloff (screenplay by), Frédéric Jardin (based on the film    Nuit blanche written by), Nicolas Saada (based on the film Nuit blanche written by), Olivier Douyère (based on the film    Nuit blanche   written by)\",\"Actors\":\"Jamie Foxx, Michelle Monaghan, Scoot McNairy, Dermot Mulroney \",\"Plot\":\"A cop with a connection to the criminal underworld scours a nightclub in search of his kidnapped son. \",\"Language\":\"English \",\"Country\":\"USA \",\"Awards\":\"1 nomination. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BNjEwMDAyOTM4OV5BMl5BanBnXkFtZTgwMzc4MjMyMDI@._V1_SX300.jpg \"},{\"Title\":\"TheDark Knight \",\"Year\":\"2008 \",\"Rated\":\"PG-13 \",\"Released\":\"18 Jul 2008 \",\"Runtime\":\"152 min \",\"Genre\":\"Action, Crime, Drama \",\"Director\":\"Christopher Nolan \",\"Writer\":\"Jonathan Nolan (screenplay), Christopher Nolan (screenplay), Christopher Nolan (story), David S. Goyer (story), Bob Kane (characters) \",\"Actors\":\"Christian Bale, Heath Ledger, Aaron Eckhart, Michael Caine \",\"Plot\":\"When the menace known as the Joker emerges from his mysterious past, he wreaks havoc and chaos on the people of Gotham. The Dark Knight must accept one of the greatest psychological and physical tests of his ability to fight injustice. \",\"Language\":\"English, Mandarin \",\"Country\":\"USA, UK \",\"Awards\":\"Won 2 Oscars. Another 152 wins \\u0026 155 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BMTMxNTMwODM0NF5BMl5BanBnXkFtZTcwODAyMTk2Mw@@._V1_SX300.jpg \"},{\"Title\":\"SavingPrivate Ryan \",\"Year\":\"1998 \",\"Rated\":\"R \",\"Released\":\"24 Jul 1998 \",\"Runtime\":\"169 min \",\"Genre\":\"Drama, War \",\"Director\":\"Steven Spielberg \",\"Writer\":\"Robert Rodat \",\"Actors\":\"Tom Hanks, Tom Sizemore, Edward Burns, Barry Pepper \",\"Plot\":\"Following the Normandy Landings, a group of U.S. soldiers go behind enemy lines to retrieve a paratrooper whose brothers have been killed in action. \",\"Language\":\"English, French, German, Czech \",\"Country\":\"USA \",\"Awards\":\"Won 5 Oscars. Another 74 wins \\u0026 74 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BZjhkMDM4MWItZTVjOC00ZDRhLThmYTAtM2I5NzBmNmNlMzI1XkEyXkFqcGdeQXVyNDYyMDk5MTU@._V1_SX300.jpg \"},{\"Plot\":\"Moirac, a notary, and Landron, a retired army surgeon, who have been friends since boyhood, live in the same village. The daughter of the notary is, at the same time, the god-child of the...\",\"Title\":\"Fatherand God Father \",\"Year\":\"1912 \",\"Rated\":\"N/A \",\"Released\":\"27 Feb 1913 \",\"Runtime\":\"N/A \",\"Genre\":\"Short, Comedy \",\"Director\":\"N/A \",\"Writer\":\"N/A \",\"Actors\":\"N/A \",\"Language\":\"French \",\"Country\":\"France \",\"Awards\":\"N/A \",\"Poster \":\"N/A \",\"Ratings \":\"\",\"Metascore \":\"N/A \",\"imdbRating \":\"N/A \",\"imdbVotes \":\"N/A \",\"imdbID \":\"tt1318958 \",\"Type \":\"movie \",\"DVD \":\"N/A \",\"BoxOffice \":\"N/A \",\"Production \":\"N/A \",\"Website \":\"N/A \",\"Response \":\"True \"},{\"Title\":\"Hulk \",\"Year\":\"2003 \",\"Rated\":\"PG-13 \",\"Released\":\"20Jun 2003 \",\"Runtime\":\"138 min \",\"Genre\":\"Action, Sci-Fi \",\"Director\":\"Ang Lee \",\"Writer\":\"Stan Lee (Marvel comic book character), Jack Kirby (Marvel comic book character), James Schamus (story), John Turman (screenplay), Michael France (screenplay), James Schamus (screenplay) \",\"Actors\":\"Eric Bana, Jennifer Connelly, Sam Elliott, Josh Lucas \",\"Plot\":\"Bruce Banner, a genetics researcher with a tragic past, suffers an accident that causes him to transform into a raging green monster when he gets angry. \",\"Language\":\"English, Spanish \",\"Country\":\"USA \",\"Awards\":\"3 wins \\u0026 14 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BNjcxMzZhZTEtMmEwYi00NDJmLWE5ZmUtOWJiMzRmMzEzMTY3L2ltYWdlL2ltYWdlXkEyXkFqcGdeQXVyNTAyODkwOQ@@._V1_SX300.jpg \"},{\"Title\":\"Cinderella \",\"Year\":\"2015 \",\"Rated\":\"PG \",\"Released\":\"13Mar 2015 \",\"Runtime\":\"105 min \",\"Genre\":\"Drama, Family, Fantasy \",\"Director\":\"Kenneth Branagh \",\"Writer\":\"Chris Weitz (screenplay by), Charles Perrault (story) \",\"Actors\":\"Cate Blanchett, Lily James, Richard Madden, Helena Bonham Carter \",\"Plot\":\"When her father unexpectedly passes away, young Ella finds herself at the mercy of her cruel stepmother and her scheming step-sisters. Never one to give up hope, Ella's fortunes begin to change after meeting a dashing stranger. \",\"Language\":\"English \",\"Country\":\"USA, UK \",\"Awards\":\"Nominated for 1 Oscar. Another 8 wins \\u0026 35 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BMjMxODYyODEzN15BMl5BanBnXkFtZTgwMDk4OTU0MzE@._V1_SX300.jpg \"},{\"Title\":\"TheGodfather \",\"Year\":\"1972 \",\"Rated\":\"R \",\"Released\":\"24 Mar 1972 \",\"Runtime\":\"175 min \",\"Genre\":\"Crime, Drama \",\"Director\":\"Francis Ford Coppola \",\"Writer\":\"Mario Puzo (screenplay by), Francis Ford Coppola (screenplay by), Mario Puzo (based on the novel by) \",\"Actors\":\"Marlon Brando, Al Pacino, James Caan, Richard S. Castellano \",\"Plot\":\"The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son. \",\"Language\":\"English, Italian, Latin \",\"Country\":\"USA \",\"Awards\":\"Won 3 Oscars. Another 24 wins \\u0026 28 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg \"},{\"Title\":\"TheShawshank Redemption \",\"Year\":\"1994 \",\"Rated\":\"R \",\"Released\":\"14 Oct 1994 \",\"Runtime\":\"142 min \",\"Genre\":\"Drama \",\"Director\":\"Frank Darabont \",\"Writer\":\"Stephen King (short story    Rita Hayworth and Shawshank Redemption), Frank Darabont (screenplay) \",\"Actors\":\"Tim Robbins, Morgan Freeman, Bob Gunton, William Sadler \",\"Plot\":\"Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency. \",\"Language\":\"English \",\"Country\":\"USA \",\"Awards\":\"Nominated for 7 Oscars. Another 19 wins \\u0026 32 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BMDFkYTc0MGEtZmNhMC00ZDIzLWFmNTEtODM1ZmRlYWMwMWFmXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_SX300.jpg \"},{\"Title\":\"Transformers \",\"Year\":\"2007 \",\"Rated\":\"PG-13 \",\"Released\":\"03Jul 2007 \",\"Runtime\":\"144 min \",\"Genre\":\"Action, Adventure, Sci-Fi \",\"Director\":\"Michael Bay \",\"Writer\":\"Roberto Orci (screenplay), Alex Kurtzman (screenplay), John Rogers (story), Roberto Orci (story), Alex Kurtzman (story) \",\"Actors\":\"Shia LaBeouf, Megan Fox, Josh Duhamel, Tyrese Gibson \",\"Plot\":\"An ancient struggle between two Cybertronian races, the heroic Autobots and the evil Decepticons, comes to Earth, with a clue to the ultimate power held by a teenager. \",\"Language\":\"English, Spanish \",\"Country\":\"USA \",\"Awards\":\"Nominated for 3 Oscars. Another 20 wins \\u0026 41 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BNDg1NTU2OWEtM2UzYi00ZWRmLWEwMTktZWNjYWQ1NWM1OThjXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SX300.jpg \"},{\"Title\":\"StepUp 2: The Streets \",\"Year\":\"2008 \",\"Rated\":\"PG-13 \",\"Released\":\"14 Feb 2008 \",\"Runtime\":\"98 min \",\"Genre\":\"Drama, Music, Romance \",\"Director\":\"Jon M. Chu \",\"Writer\":\"Toni Ann Johnson, Karen Barna, Duane Adler (characters) \",\"Actors\":\"Briana Evigan, Robert Hoffman, Adam Sevani, Cassie Ventura \",\"Plot\":\"Romantic sparks occur between two dance students from different backgrounds at the Maryland School of the Arts. \",\"Language\":\"English, Russian \",\"Country\":\"USA \",\"Awards\":\"2 wins \\u0026 3 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BMTc0NzYxOTgxOF5BMl5BanBnXkFtZTcwMTgxMjc1MQ@@._V1_SX300.jpg \"},{\"Title\":\"Braveheart \",\"Year\":\"1995 \",\"Rated\":\"R \",\"Released\":\"24May 1995 \",\"Runtime\":\"178 min \",\"Genre\":\"Biography, Drama, History, War \",\"Director\":\"Mel Gibson \",\"Writer\":\"Randall Wallace \",\"Actors\":\"James Robinson, Sean Lawlor, Sandy Nelson, James Cosmo \",\"Plot\":\"When his secret bride is executed for assaulting an English soldier who tried to rape her, Sir William Wallace begins a revolt against King Edward I of England. \",\"Language\":\"English, French, Latin, Scottish Gaelic, Italian \",\"Country\":\"USA \",\"Awards\":\"Won 5 Oscars. Another 26 wins \\u0026 28 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BMzkzMmU0YTYtOWM3My00YzBmLWI0YzctOGYyNTkwMWE5MTJkXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg \"},{\"Title\":\"BladeRunner \",\"Year\":\"1982 \",\"Rated\":\"R \",\"Released\":\"25 Jun 1982 \",\"Runtime\":\"117 min \",\"Genre\":\"Sci-Fi, Thriller \",\"Director\":\"Ridley Scott \",\"Writer\":\"Hampton Fancher (screenplay), David Webb Peoples (screenplay), Philip K. Dick (novel) \",\"Actors\":\"Harrison Ford, Rutger Hauer, Sean Young, Edward James Olmos \",\"Plot\":\"A blade runner must pursue and terminate four replicants who stole a ship in space, and have returned to Earth to find their creator. \",\"Language\":\"English, German, Cantonese, Japanese, Hungarian, Arabic \",\"Country\":\"USA, Hong Kong \",\"Awards\":\"Nominated for 2 Oscars. Another 11 wins \\u0026 16 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BNzQzMzJhZTEtOWM4NS00MTdhLTg0YjgtMjM4MDRkZjUwZDBlXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_SX300.jpg \"},{\"Title\":\"Blade \",\"Year\":\"1998 \",\"Rated\":\"R \",\"Released\":\"21Aug 1998 \",\"Runtime\":\"120 min \",\"Genre\":\"Action, Horror \",\"Director\":\"Stephen Norrington \",\"Writer\":\"David S. Goyer \",\"Actors\":\"Wesley Snipes, Stephen Dorff, Kris Kristofferson, N'Bushe Wright \",\"Plot\":\"A half-vampire, half-mortal man becomes a protector of the mortal race, while slaying evil vampires. \",\"Language\":\"English, Russian, Serbian \",\"Country\":\"USA \",\"Awards\":\"4 wins \\u0026 8 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BMTQ4MzkzNjcxNV5BMl5BanBnXkFtZTcwNzk4NTU0Mg@@._V1_SX300.jpg \"},{\"Title\":\"TamilFilm 2 \",\"Year\":\"2018 \",\"Rated\":\"N/A \",\"Released\":\"11 Jul 2018 \",\"Runtime\":\"143 min \",\"Genre\":\"Comedy \",\"Director\":\"C.S. Amudhan \",\"Writer\":\"C.S. Amudhan, K. Chandru (dialogue) \",\"Actors\":\"Jiiva, Manobala, Iswarya Menon, Shiva \",\"Plot\":\"A stringent cop tries all the possible ways to nab a dreaded don who poses a big threat to the society. \",\"Language\":\"Tamil \",\"Country\":\"India \",\"Awards\":\"N/A \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BM2JmNmNkMGUtZmYxNy00YzRlLWJjZGMtODQ4ZjE2OTZjOWQ3XkEyXkFqcGdeQXVyMzI4MzEwNQ@@._V1_SX300.jpg \"},{\"Title\":\"Baasha \",\"Year\":\"1995 \",\"Rated\":\"NOTRATED \",\"Released\":\"15 Jan 1995 \",\"Runtime\":\"145 min \",\"Genre\":\"Action, Crime, Drama \",\"Director\":\"Suresh Krishna \",\"Writer\":\"Balakumaran (dialogue), Suresh Krishna \",\"Actors\":\"Rajinikanth, Nagma, Raghuvaran, Vijayakumar \",\"Plot\":\"An auto driver, Manikam, desperately tries to hide his dark underworld side to keep his promise to his father. \",\"Language\":\"Tamil, Telugu, Hindi \",\"Country\":\"India \",\"Awards\":\"1 win. \",\"Poster \":\"https://images-na.ssl-images-amazon.com/images/M/MV5BMjEyMzgzMjc1OF5BMl5BanBnXkFtZTgwMTAwOTk1MDE@._V1_SX300.jpg \"},{\"Title\":\"Muthu \",\"Year\":\"1995 \",\"Rated\":\"N/A \",\"Released\":\"23Oct 1995 \",\"Runtime\":\"132 min \",\"Genre\":\"Action, Comedy, Drama \",\"Director\":\"K.S. Ravikumar \",\"Writer\":\"K.S. Ravikumar (screenplay) \",\"Actors\":\"Rajinikanth, Meena, Sarath Babu, Senthil \",\"Plot\":\"The movie is about a loyal servant, Muthu (Rajni), working for Zamindar Malayasimman (Sarath Babu) and the cunning plans by the uncle of Malasimman to capture the whole wealth which uncovers some mystery about Muthu. \",\"Language\":\"Tamil, Hindi, Telugu \",\"Country\":\"India \",\"Awards\":\"2 wins. \",\"Poster \":\"https://images-na.ssl-images-amazon.com/images/M/MV5BZGU3YjNlNTEtZTFiOS00YjlkLTljMWQtY2UyNmJhNWRjZWFiXkEyXkFqcGdeQXVyMjMwODI3NDE@._V1_SX300.jpg \"},{\"Title\":\"Annamalai \",\"Year\":\"1992 \",\"Rated\":\"N/A \",\"Released\":\"N/A \",\"Runtime\":\"164min \",\"Genre\":\"Drama \",\"Director\":\"Suresh Krishna \",\"Writer\":\"Suresh Krishna \",\"Actors\":\"Rajinikanth, Sarath Babu, Kushboo, Radha Ravi \",\"Plot\":\"A class-divided friendship goes through highs and lows through several decades. \",\"Language\":\"Tamil \",\"Country\":\"India \",\"Awards\":\"1 win. \",\"Poster \":\"https://images-na.ssl-images-amazon.com/images/M/MV5BM2MxNjZlMTUtODA0My00NWVmLWFhMTEtZWJjMDYyYmQzNmFiXkEyXkFqcGdeQXVyMjMwODI3NDE@._V1_SX300.jpg \"},{\"Title\":\"96 \",\"Year\":\"2018 \",\"Rated\":\"N/A \",\"Released\":\"03Oct 2018 \",\"Runtime\":\"158 min \",\"Genre\":\"Romance \",\"Director\":\"C. Prem Kumar \",\"Writer\":\"C. Prem Kumar \",\"Actors\":\"Varsha Bollamma, Devadarshini Chetan, Trisha Krishnan, Vijay Sethupathi \",\"Plot\":\"A mute girl falls in love with a rogue and tries changing his life for good. Will the change be perennial? Or will it be temporary? New surprises that life brings on forms the crux of the story. \",\"Language\":\"Tamil \",\"Country\":\"India \",\"Awards\":\"N/A \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BYTBmMDQ0ZmYtYWU5Zi00ZmY3LTkyZTItOWFiY2I3YzdkYzgxXkEyXkFqcGdeQXVyODE5NjYxMzQ@._V1_SX300.jpg \"},{\"Title\":\"2012 \",\"Year\":\"2009 \",\"Rated\":\"PG-13 \",\"Released\":\"13Nov 2009 \",\"Runtime\":\"158 min \",\"Genre\":\"Action, Adventure, Sci-Fi \",\"Director\":\"Roland Emmerich \",\"Writer\":\"Roland Emmerich, Harald Kloser \",\"Actors\":\"John Cusack, Amanda Peet, Chiwetel Ejiofor, Thandie Newton \",\"Plot\":\"A frustrated writer struggles to keep his family alive when a series of global catastrophes threatens to annihilate mankind. \",\"Language\":\"English, French, Tibetan, Mandarin, Russian, Hindi, Portuguese, Latin, Italian, Spanish \",\"Country\":\"USA \",\"Awards\":\"5 wins \\u0026 21 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BMTY0MjEyODQzMF5BMl5BanBnXkFtZTcwMTczMjQ4Mg@@._V1_SX300.jpg \"},{\"Title\":\"17Again \",\"Year\":\"2009 \",\"Rated\":\"PG-13 \",\"Released\":\"17 Apr 2009 \",\"Runtime\":\"102 min \",\"Genre\":\"Comedy, Drama, Fantasy \",\"Director\":\"Burr Steers \",\"Writer\":\"Jason Filardi \",\"Actors\":\"Zac Efron, Leslie Mann, Thomas Lennon, Matthew Perry \",\"Plot\":\"Mike O'Donnell is ungrateful for how his life turned out. He gets a chance to rewrite his life when he tried to save a janitor near a bridge and jumped after him into a time vortex. \",\"Language\":\"English \",\"Country\":\"USA \",\"Awards\":\"3 wins \\u0026 5 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BMjA2NTI1Mzg3N15BMl5BanBnXkFtZTcwMjYwNjAzMg@@._V1_SX300.jpg \"},{\"Title\":\"Vishwaroopam \",\"Year\":\"2013 \",\"Rated\":\"N/A \",\"Released\":\"01Feb 2013 \",\"Runtime\":\"148 min \",\"Genre\":\"Action, Thriller \",\"Director\":\"Kamal Haasan \",\"Writer\":\"H. Banerjee (Subtitles), Kamal Haasan, Atul Tiwari (dialogue), Atul Tiwari (hindi dialogue) \",\"Actors\":\"Kamal Haasan, Rahul Bose, Shekhar Kapur, Pooja Kumar \",\"Plot\":\"When a classical dancer's suspecting wife sets an investigator behind him, a series of violent events are triggered, revealing his real identity and connection to a darker world. \",\"Language\":\"Tamil, Hindi, Telugu, Arabic, Pushto \",\"Country\":\"India \",\"Awards\":\"3 wins \\u0026 10 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BNjA5MDNhMDAtMjExOC00MTdjLWE0MDYtZDgyZmRiZDRjZDcwXkEyXkFqcGdeQXVyODEzOTQwNTY@._V1_SX300.jpg \"},{\"Title\":\"Madras \",\"Year\":\"2014 \",\"Rated\":\"NOTRATED \",\"Released\":\"26 Sep 2014 \",\"Runtime\":\"156 min \",\"Genre\":\"Action, Drama \",\"Director\":\"Pa. Ranjith \",\"Writer\":\"N/A \",\"Actors\":\"Karthi, Catherine Tresa, Kalaiyarasan, Jayabalan \",\"Plot\":\"A wall creates perturbation between two factions of a political party. Kaali and his buddy Anbu, who is a political aspirant, get embroiled in this brutal political rivalry. \",\"Language\":\"Tamil \",\"Country\":\"India \",\"Awards\":\"9 wins \\u0026 15 nominations. \",\"Poster \":\"https://images-na.ssl-images-amazon.com/images/M/MV5BMzJjZmU2MmUtN2E0Zi00MmNjLTgwMWUtYmRjMGNhNzExMjI4XkEyXkFqcGdeQXVyMjMwODI3NDE@._V1_SX300.jpg \"},{\"Title\":\"Kaala \",\"Year\":\"2018 \",\"Rated\":\"NOTRATED \",\"Released\":\"06 Jun 2018 \",\"Runtime\":\"162 min \",\"Genre\":\"Action, Drama \",\"Director\":\"Pa. Ranjith \",\"Writer\":\"Shivgopal Krishna (hindi dialogue), Maginan (story), Pa. Ranjith (story/screenplay), M. Sreeramakrishna (telugu dialogue), Aadhavan Theetchanya (tamil dialogue) \",\"Actors\":\"Rajinikanth, Nana Patekar, Easwari Rao, Huma Qureshi \",\"Plot\":\"Kaala is about the life of Nellai / Tirunelveli based Tamils who live in large number in Mumbai. \",\"Language\":\"Tamil \",\"Country\":\"India \",\"Awards\":\"N/A \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BMGQyYWE0NzQtNTdlNC00MzFhLWFkYjQtMzZkMGI4MzQ2NWE0XkEyXkFqcGdeQXVyODIwMDI1NjM@._V1_SX300.jpg \"},{\"Title\":\"BiggBoss Telugu \",\"Year\":\"2017– \",\"Rated\":\"N/A \",\"Released\":\"16 Jul 2017 \",\"Runtime\":\"90 min \",\"Genre\":\"Reality-TV \",\"Director\":\"N/A \",\"Writer\":\"N/A \",\"Actors\":\"Siva Balaji, Aadarsh Balakrishna, Archana Shastry, Hari Teja \",\"Plot\":\"Bigg Boss Telugu is a reality show based on the Hindi show Bigg Boss which too was based on the original Dutch Big Brother. A number of contestants (known as    housemates) live in a ... \",\"Language\":\"Telugu \",\"Country\":\"India \",\"Awards\":\"N/A \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BMWYwZGE2NzAtMjA4Mi00ODVkLTk0NTctYjZjOGYwYWY2MDkwXkEyXkFqcGdeQXVyODAzNzAwOTU@._V1_SX300.jpg \"},{\"Title\":\"LastYoik in Saami Forests? \",\"Year\":\"2006 \",\"Rated\":\"N/A \",\"Released\":\"15 May 2006 \",\"Runtime\":\"58 min \",\"Genre\":\"N/A \",\"Director\":\"Hannu Hyvönen \",\"Writer\":\"N/A \",\"Actors\":\"N/A \",\"Plot\":\"N/A \",\"Language\":\"Finnish \",\"Country\":\"Finland \",\"Awards\":\"N/A \",\"Poster \":\"N/A \",\"Ratings \":\"\",\"Metascore \":\"N/A \",\"imdbRating \":\"N/A \",\"imdbVotes \":\"N/A \",\"imdbID \":\"tt1352730 \",\"Type \":\"movie \",\"DVD \":\"N/A \",\"BoxOffice \":\"N/A \",\"Production \":\"N/A \",\"Website \":\"N/A \",\"Response \":\"True \"},{\"Title\":\"Enemy \",\"Year\":\"2013 \",\"Rated\":\"R \",\"Released\":\"06Feb 2014 \",\"Runtime\":\"91 min \",\"Genre\":\"Mystery, Thriller \",\"Director\":\"Denis Villeneuve \",\"Writer\":\"José Saramago (novel), Javier Gullón \",\"Actors\":\"Jake Gyllenhaal, Mélanie Laurent, Sarah Gadon, Isabella Rossellini \",\"Plot\":\"A man seeks out his exact look-alike after spotting him in a movie. \",\"Language\":\"English \",\"Country\":\"Canada, Spain, France \",\"Awards\":\"16 wins \\u0026 23 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BMTQ2NzA5NjE4N15BMl5BanBnXkFtZTgwMjQ4NzMxMTE@._V1_SX300.jpg \"},{\"Title\":\"Gandhi \",\"Year\":\"1982 \",\"Rated\":\"PG \",\"Released\":\"25Feb 1983 \",\"Runtime\":\"191 min \",\"Genre\":\"Biography, Drama, History \",\"Director\":\"Richard Attenborough \",\"Writer\":\"John Briley \",\"Actors\":\"Ben Kingsley, Rohini Hattangadi, Roshan Seth, Candice Bergen \",\"Plot\":\"Gandhi's character is fully explained as a man of nonviolence. Through his patience, he is able to drive the British out of the subcontinent. And the stubborn nature of Jinnah and his commitment towards Pakistan is portrayed. \",\"Language\":\"English \",\"Country\":\"UK, India, USA \",\"Awards\":\"Won 8 Oscars. Another 27 wins \\u0026 20 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BMzJiZDRmOWUtYjE2MS00Mjc1LTg1ZDYtNTQxYWJkZTg1OTM4XkEyXkFqcGdeQXVyNjUwNzk3NDc@._V1_SX300.jpg \"},{\"Title\":\"Mouna \",\"Year\":\"2010 \",\"Rated\":\"N/A \",\"Released\":\"N/A \",\"Runtime\":\"12min \",\"Genre\":\"Documentary, Biography \",\"Director\":\"Meredith Drum \",\"Writer\":\"N/A \",\"Actors\":\"N/A \",\"Plot\":\"Mouna is the name of the woman who served as actress and translator for a narrative film project in Morocco, a project for which I was the cinematographer. The film was never finished; it ... \",\"Language\":\"English \",\"Country\":\"Morocco \",\"Awards\":\"N/A \",\"Poster \":\"N/A \",\"Ratings \":\"\",\"Metascore \":\"N/A \",\"imdbRating \":\"N/A \",\"imdbVotes \":\"N/A \",\"imdbID \":\"tt1772315 \",\"Type \":\"movie \",\"DVD \":\"N/A \",\"BoxOffice \":\"N/A \",\"Production \":\"N/A \",\"Website \":\"N/A \",\"Response \":\"True \"},{\"Title\":\"Friend \",\"Year\":\"2001 \",\"Rated\":\"N/A \",\"Released\":\"31Mar 2001 \",\"Runtime\":\"113 min \",\"Genre\":\"Action, Crime, Drama \",\"Director\":\"Kyung-taek Kwak \",\"Writer\":\"Kyung-taek Kwak \",\"Actors\":\"Oh-seong Yu, Dong-Gun Jang, Tae-hwa Seo, Un-taek Jeong \",\"Plot\":\"Four childhood friends go their separate ways, two go off to college while the others become rival gangsters. \",\"Language\":\"Korean \",\"Country\":\"South Korea \",\"Awards\":\"5 wins \\u0026 2 nominations. \",\"Poster \":\"https://m.media-amazon.com/images/M/MV5BN2I2ODE5YzEtZjU2Yi00ZGZiLWJlOTItM2Y0MTQyMzgyNWVlXkEyXkFqcGdeQXVyMTMxMTY0OTQ@._V1_SX300.jpg \"},{\"Title\":\"Bollywood \",\"Year\":\"1994 \",\"Rated\":\"N/A \",\"Released\":\"16Sep 1994 \",\"Runtime\":\"120 min \",\"Genre\":\"Comedy, Musical \",\"Director\":\"B.J. Khan \",\"Writer\":\"B.J. Khan, Shashi Tharoor (novel) \",\"Actors\":\"Veena Bidasha, Pak Daddy, Saeed Jaffrey, Sarena Khan \",\"Plot\":\"Abulah seeks revenge on Pak Daddy and Vihishnu for the death of his wife. A series of funny and mindless events ensue. \",\"Language\":\"English \",\"Country\":\"India \",\"Awards\":\"N/A \",\"Poster \":\"N/A \"},{\"Title\":\"Chakde! India \",\"Year\":\"2007 \",\"Rated\":\"NOT RATED \",\"Released\":\"10 Aug 2007 \",\"Runtime\":\"153 min \",\"Genre\":\"Drama, Family, Sport \",\"Director\":\"Shimit Amin \",\"Writer\":\"Jaideep Sahni (dialogue), Jaideep Sahni (screenplay), Jaideep Sahni (story) \",\"Actors\":\"Shah Rukh Khan, Vidya Malvade, Sagarika Ghatge, Shilpa Shukla \",\"Plot\":\"Kabir Khan is the coach of the Indian Women's National Hockey Team and his dream is to make his all girls team emerge victorious against all odds. \",\"Language\":\"Hindi \",\"Country\":\"India \",\"Awards\":\"26 wins \\u0026 18 nominations. \",\"Poster \":\"https://images-na.ssl-images-amazon.com/images/M/MV5BMTM2MjgyNDE5Nl5BMl5BanBnXkFtZTcwMzM1MDc4MQ@@._V1_SX300.jpg \"}]}"
        val gson = Gson()
        return gson.fromJson(jsonData,token.type)

    }



    @Test
    fun getDataFromRemote() {

        Mockito.`when`(repository.getDataFromApi()).thenReturn(Single.just(getObject()))

        val testObserver = TestObserver<MovieList>()

        viewModel.generateApiCall()
            .subscribe(testObserver)

        testObserver.assertNoErrors()
        testObserver.assertValue { responseData -> responseData.movies.size > 1 }
    }


    @Test
    fun frameDataKeyAssertion(){
       val data =  viewModel.frameData(getObject().movies[2])

        assert(data[0].key == "Title")
    }


    @Test
    fun frameDataValueAssertion(){
        val data =  viewModel.frameData(getObject().movies[0])

        assert(data[0].value == "Avengers:Age of Ultron ")
    }


    @Test
    fun frameDataCountAssertion(){
        val data =  viewModel.frameData(getObject().movies[0])

        assert(data.size == 13)
    }





}